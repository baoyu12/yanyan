webpackJsonp([16],{QtOh:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("BO1k"),a=e.n(s),r=e("woOf"),n=e.n(r),o=e("fZjL"),d=e.n(o),h={name:"ElementShape",data:function(){return{svg:"",isWechat:window.isWechat,fromMini:-1!==window.location.href.indexOf("miniProgram")}},props:{id:{type:[String,Number]},properties:{type:Object,required:!0},css:{type:Object,required:!0},wrapCss:{type:Object,required:!0},overturnType:{type:Number,required:!0},layerName:{type:String},triggers:{type:Object}},computed:{shadowCss:function(){var t=this.properties;return 0==t.visible?{boxShadow:t.shadowColor+" "+t.shadowX+"px "+t.shadowY+"px "+t.shadowBlur+"px",visibility:"hidden"}:{boxShadow:t.shadowColor+" "+t.shadowX+"px "+t.shadowY+"px "+t.shadowBlur+"px"}},allCss:function(){var t={},i=d()(this.wrapCss),e=!0,s=!1,r=void 0;try{for(var o,h=a()(i);!(e=(o=h.next()).done);e=!0){var u=o.value;u.indexOf("border")<0&&"animation"!=u&&(t[u]=this.wrapCss[u])}}catch(t){s=!0,r=t}finally{try{!e&&h.return&&h.return()}finally{if(s)throw r}}return n()({},this.css,t)},newCss:function(){var t=this.css;return this.$set(t,"borderRadius",this.wrapCss.borderRadius),this.css},rotateCss:function(){switch(this.overturnType){case 0:return{transform:"none"};case 1:return{transform:"rotateX(0deg) rotateY(180deg)"};case 2:return{transform:"rotateX(180deg) rotateY(0deg)"};case 3:return{transform:"rotateX(180deg) rotateY(180deg)"}}},pathColor:function(){return this.css.svgPathColor},wrapStyle:function(){var t=["transform","left","top","width","height"],i={};for(var e in this.wrapCss)t.includes(e)&&(i[e]=this.wrapCss[e]);return i},wrapNoSize:function(){var t=["transform","left","top","width","height"],i={};for(var e in this.wrapCss)t.includes(e)||(i[e]=this.wrapCss[e]);return i},aniOrigin:function(){var t=this.properties.aniOrigin;return"default"==t?{}:{"transform-origin":t+" !important"}}},mounted:function(){this.getSvg()},methods:{getSvg:function(){var t=this;this.$_baseget(this.properties.src).then(function(i){t.svg=i,t.$nextTick(function(){t.setCss(t.wrapCss),t.pathColor.length>0&&t.setPathColor(t.pathColor),setTimeout(function(){$(".e-shape[data-id="+t.id+"] > svg").children("path").each(function(){$(this).attr("vector-effect","non-scaling-stroke")})},10)})})},setCss:function(t){var i=$(".e-shape[data-id="+this.id+"] > svg");if("eqxiu"==this.properties.from){if(i.attr("width")&&i.attr("height")){var e=Number(i.attr("width").split("px")[0]),s=Number(i.attr("height").split("px")[0]);i.attr({viewBox:"0 0 "+e+" "+s,preserveAspectRatio:"none"})}}else{"none"=={none:"none",solid:"0",dashed:"5,5",dotted:"1,5"}[t.borderStyle]||t.borderWidth;i.each(function(){$(this).attr({width:"100%",height:"100%",preserveAspectRatio:"none meet"})})}},setPathColor:function(t){var i=this,e=$(".e-shape[data-id="+i.id+"] > svg");t.length>0&&e.each(function(){"maka"==i.properties.from?$(this).find("path").length>0?$(this).find("path").each(function(i){$(this).attr("fill",t[i])}):$(this).find("polygon").each(function(i){$(this).attr("fill",t[i])}):"eqxiu"==i.properties.from?$(this).find("*").each(function(i){t[i]&&$(this).attr("fill")&&$(this).attr("fill",t[i])}):$(this).children("path").each(function(i){$(this).attr("fill",t[i])})})},audioPlay:function(t){var i=this;if($(".audio").removeClass("mrotate"),document.getElementById("music").pause(),document.querySelector(".music-"+this.id).paused){var e=$(t.target),s=e.data("hash"),a=e.data("link");s?this.$_post(this.apiUrl+"hashToLink",{hash:s}).then(function(t){$(".audio-com").not(".music-"+i.id).each(function(){$(this)[0].pause()}),e.children("audio").attr("src",t),e.children("audio")[0].play()}):($(".audio-com").not(".music-"+i.id).each(function(){$(this)[0].pause()}),e.children("audio").attr("src",a),e.children("audio")[0].play())}else document.querySelector(".music-"+this.id).pause()},triggerFun:function(t){if("link"==this.triggers.event)window.location.replace(this.triggers.link);else if("phone"==this.triggers.event){var i="tel:"+this.triggers.phone;window.location.href=i}else if("page"==this.triggers.event)t.stopPropagation(),this.bus.$emit("jumpPage",this.triggers.go);else if("music"==this.triggers.event){var e=this;if($(".audio").removeClass("mrotate"),document.getElementById("music").pause(),document.querySelector(".audio-"+e.id).paused){var s=$(t.currentTarget),a=s.data("hash"),r=s.data("link");a?e.$_post(e.apiUrl+"hashToLink",{hash:a}).then(function(t){$(".audio-bom").not(".audio-"+e.id).each(function(){$(this)[0].pause()}),$(".audio-"+e.id).attr("src",t),$(".audio-"+e.id)[0].play()}):($(".audio-bom").not(".audio-"+e.id).each(function(){$(this)[0].pause()}),$(".audio-"+e.id).attr("src",r),$(".audio-"+e.id)[0].play())}else document.querySelector(".audio-"+e.id).pause()}else if("我要制作down"==this.layerName){if(-1!==window.location.href.indexOf("miniProgram"))window.isDouyin?tt.miniProgram.switchTab({url:"/pages/index/index"}):uni.switchTab({url:"/pages/index/index"});else{if(window.newApp||window.newAndroid)return;window.location.href="https://h5.hunbei.com/appdown?from=footer"}}}}},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ele-shape",style:t.allCss},[e("div",{staticClass:"ani-wrap",style:[{animation:t.wrapCss.animation},t.wrapNoSize,t.shadowCss,t.aniOrigin]},[t.properties.musicLink||t.properties.musicHash?e("div",{staticClass:"audio-wrap",attrs:{"data-link":t.properties.musicLink,"data-hash":t.properties.musicHash},on:{click:function(i){t.audioPlay(i)}}},[e("audio",{staticClass:"audio-com",class:"music-"+t.id})]):t._e(),t._v(" "),"我要制作down"==t.layerName&&t.isWechat&&!t.fromMini?e("wx-open-launch-weapp",{staticStyle:{display:"block",width:"100%",height:"100%",position:"absolute","z-index":"1",top:"0",left:"0"},attrs:{id:"launch-btn",username:"gh_c6b704259411",path:"pages/index/index"}},[e("script",{attrs:{type:"text/wxtag-template"}},[t._v("\n                <style>.x-div { position: absolute;width:100%;top:0;\n                    left:0;height:100%;opacity:0;}</style><div class='x-div'></div>\n            ")])]):t._e(),t._v(" "),e("div",{staticClass:"e-shape",style:[t.rotateCss],attrs:{"data-id":t.id,"data-link":t.triggers.musicLink,"data-hash":t.triggers.musicHash},domProps:{innerHTML:t._s(t.svg)},on:{click:function(i){t.triggerFun(i)}}}),t._v(" "),"music"==t.triggers.event?e("audio",{staticClass:"audio-bom",class:"audio-"+t.id}):t._e()],1)])},staticRenderFns:[]};var c=e("VU/8")(h,u,!1,function(t){e("l+Ff")},null,null);i.default=c.exports},"l+Ff":function(t,i){}});